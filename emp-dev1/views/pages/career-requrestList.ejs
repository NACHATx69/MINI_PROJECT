<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" />
<link rel="stylesheet" href="https://cdn.datatables.net/searchbuilder/1.6.0/css/searchBuilder.dataTables.min.css" />
<link rel="stylesheet" href="https://cdn.datatables.net/datetime/1.5.1/css/dataTables.dateTime.min.css" />

<style>
  body {
    font-family: Arial, Helvetica, sans-serif;
  }

  /* The Modal (background) */
  .modal {
    display: none;
    /* Hidden by default */
    position: fixed;
    /* Stay in place */
    z-index: 1000;
    /* Sit on top */
    padding-top: 100px;
    /* Location of the box */
    left: 0;
    top: 0;
    width: 100%;
    /* Full width */
    height: 100%;
    /* Full height */
    overflow: auto;
    /* Enable scroll if needed */
    background-color: rgb(0, 0, 0);
    /* Fallback color */
    background-color: rgba(0, 0, 0, 0.4);
    /* Black w/ opacity */
  }

  /* Modal Content */
  .modal-content {
    background-color: #fefefe;
    margin: auto;
    padding: 20px;
    border: 1px solid #888;
    width: 30%;
  }

  /* The Close Button */
  .close {
    color: #aaaaaa;
    float: right;
    font-size: 15px;
    font-weight: bold;
  }

  .close:hover,
  .close:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
  }

  form {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  form p {
    font-size: 15px;
    /* ปรับขนาดตัวอักษรตามที่ต้องการ */
  }

  #namepo {
    font-size: 22px;
  }

</style>

<div class="container">
  <div class="card-body min-vh-100">
    <div class="py-2 text-center">
    </div>

    <h2 class="border-bottom pb-2">คำขอสร้างประกาศสมัครงาน</h2>  <!-- ชื่อหัวข้อ -->

    <section class="py-5 text-center container">

      <div class="col-12">
        <table id="example" class="display nowrap" style="width:100%">
          <thead> <!-- หัวตาราง -->
            <tr>
              <th class="text-center">รหัส</th>
              <th class="text-center">แผนก</th>
              <th class="text-center">ตำแหน่ง</th>
              <th class="text-center">รายละเอียด</th>
              <th class="text-center">ผู้ขอ</th>
              <th class="text-center">สถานะ</th>
              <th class="text-center"></th>
              
            </tr>
          </thead>
          <tbody> <!--  ข้อมูลในตาราง-->
            <% for(var i=0; i < data.length; i++) { %>
            <tr>
              <td><%= data[i].REQ_LIST_ID  %> </td> <!--แก้ไขที่ REQ_LIST_ID  เปลี่ยนเป็นชื่อคอลัมที่เราคิวรี่ได้ ซึ่งREQ_LIST_ID ก็เป็นข้อมู,ที่เราเก็บไปใน report ตอนทำเร้าท์-->
              <td><%= data[i].DEPT_NAME %> </td>
              <td><%= data[i].POS_NAME %> </td>
              <td><%= data[i].DETAIL %> </td>
              <td><%= data[i].FNAME %> <%= data[i].LNAME %> </td>
              <% if (data[i].STATUS === null) { %>
                <td>รออนุมัติ</td>
                <% } else if (data[i].STATUS == 1) { %>
                <td>ทำงานอยู่</i></td>
              <% } %>
     
              <td>  
                <a href="/career?applicantId=<%= data[i].REQ_LIST_ID %>">
                  <i class="fa-solid fa-arrow-up-right-from-square"></i>
                </a>
              </td>
            </tr>
            <% } %>
        </table>
      </div>
    </section>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/searchbuilder/1.6.0/js/dataTables.searchBuilder.min.js"></script>
<script src="https://cdn.datatables.net/datetime/1.5.1/js/dataTables.dateTime.min.js"></script>

<script>
  $(document).ready(function() {
    $('#example').DataTable({
      searching: true,
      paging: true,
      info: true,
      ordering: false
    });

  });
</script>

<!-- <script>
  var modal = document.getElementById("editdata");
  var btns = document.getElementsByClassName("btn btn-warning");

  var span = document.getElementsByClassName("close")[0];

  for (var i = 0; i < btns.length; i++) {
    btns[i].onclick = function() {
      modal.style.display = "block";
      var namepoElement = this.parentElement.parentElement.getElementsByTagName("td")[0];
      var namepo = namepoElement.innerText;
      document.getElementById("namepo").innerText = namepo;

    }
  }

  $("#mysubmit").click(function(event) {
      var confirmation = confirm("ยืนยันการเเก้ไข");
      if (!confirmation) {
        event.preventDefault();
      }
    });

  span.onclick = function() {
    modal.style.display = "none";
  }

  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }
</script> -->